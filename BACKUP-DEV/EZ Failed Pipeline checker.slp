{"render_map":{"pan_x_num":0,"default_snaplex":"560530e50501867a050961d1","scale_ratio":1,"detail_map":{"d30b2f48-7da4-4a04-9488-4ca765ecc176":{"grid_x_int":5,"rot_int":0,"grid_y_int":3,"rot_tail_int":0},"6b4a0227-aa37-4950-9f45-b96bec2e835f":{"grid_x_int":6,"rot_int":0,"grid_y_int":3,"rot_tail_int":0},"4e3496c8-82da-4367-862c-88540aaa3db1":{"grid_x_int":4,"rot_int":0,"grid_y_int":3,"rot_tail_int":0,"output":{"output1":{"dx_int":0,"rot_int":0,"dy_int":1}}},"bc7ef095-1c01-462f-b3cf-b3e4833b755f":{"grid_x_int":3,"rot_int":0,"grid_y_int":3,"rot_tail_int":0},"1040cb22-d1c2-4e92-bd52-1176f08ae98f":{"grid_x_int":5,"rot_int":0,"grid_y_int":4,"rot_tail_int":0},"2ddbe24f-d3fb-4c7d-91a6-2e5565552082":{"grid_x_int":7,"rot_int":0,"grid_y_int":3,"rot_tail_int":0}},"pan_y_num":0},"instance_fqid":"0d1ce71c-0c9e-4b2f-b0f8-f49c3af3f45a_101","class_id":"com-snaplogic-pipeline","partition_snode_id":"560530e34338e379f8fbff7b","snode_id":"5710110895315c232b84448b","link_serial":155,"scrub_backup":[],"property_map":{"info":{"notes":{"value":"last_hours - integer - fetch data for last n hours. Max limit is 2160 hours (90 days).\ndefault = 1\n\nstatetocheck - string - fetch data for particular pipeline states.\nState : [NoUpdate, Prepared, Started, Queued, Stopped, Stopping, Completed, Failed]. (case sensitive)\nExample: state=Completed,Failed"},"label":{"value":"EZ Failed Pipeline checker"},"purpose":{"value":null},"pipeline_doc_uri":{"value":null},"author":{"value":"erzhao@enmax.com"}},"output":{},"settings":{"param_table":{"value":[{"value":{"value":"4"},"key":{"value":"lasthours"}},{"value":{"value":"Failed"},"key":{"value":"statetocheck"}}]}},"instance_version":99,"error":{"error_behavior":{"value":"none"}},"input":{}},"path":"/Enmax/projects/Eric Zhao/EZ Failed Pipeline checker","update_time":"2016-05-09T15:37:44.310000+00:00","class_version":8,"update_user_id":"erzhao@enmax.com","snap_map":{"d30b2f48-7da4-4a04-9488-4ca765ecc176":{"instance_version":5,"class_id":"com-snaplogic-snaps-transform-jsonsplitter","class_build_tag":"transform1210","class_fqid":"com-snaplogic-snaps-transform-jsonsplitter_1-transform1210","instance_id":"d30b2f48-7da4-4a04-9488-4ca765ecc176","property_map":{"info":{"notes":{"value":null},"label":{"value":"split the response data"}},"view_serial":100,"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"settings":{"nullSafeAccess":{"value":true},"includeParents":{"value":false},"includePaths":{"value":[]},"path":{"value":"$entity.response_map.entries"}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}}}},"class_version":1,"instance_fqid":"d30b2f48-7da4-4a04-9488-4ca765ecc176_5"},"6b4a0227-aa37-4950-9f45-b96bec2e835f":{"instance_id":"6b4a0227-aa37-4950-9f45-b96bec2e835f","class_id":"com-snaplogic-snaps-transform-datatransform","class_build_tag":"transform1210","class_fqid":"com-snaplogic-snaps-transform-datatransform_4-transform1210","instance_version":11,"property_map":{"info":{"notes":{"value":null},"label":{"value":"Mapper"}},"view_serial":100,"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"settings":{"nullSafeAccess":{"value":false},"passThrough":{"value":false},"transformations":{"value":{"mappingTable":{"value":[{"expression":{"expression":true,"value":"$label.trim()"},"targetPath":{"value":"$PipelieName"}},{"expression":{"expression":true,"value":"$user_id"},"targetPath":{"value":"$Owner"}},{"expression":{"expression":true,"value":"$runtime_label"},"targetPath":{"value":"$RunMode"}},{"expression":{"expression":true,"value":"$cc_label"},"targetPath":{"value":"$RunningOn"}},{"expression":{"expression":true,"value":"$invoker"},"targetPath":{"value":"$InvokeMethod"}},{"expression":{"expression":true,"value":"$state"},"targetPath":{"value":"$State"}},{"expression":{"expression":true,"value":"Date.parse($state_timestamp).toLocaleDateTimeString('{\\\"timeZone\\\":\\\"MST\\\",\"format\":\"yyyy-MM-dd HH:mm:ss\"}')"},"targetPath":{"value":"$TimeStamp"}}]},"mappingRoot":{"value":"$"}}}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}}}},"class_version":4,"instance_fqid":"6b4a0227-aa37-4950-9f45-b96bec2e835f_11"},"4e3496c8-82da-4367-862c-88540aaa3db1":{"instance_id":"4e3496c8-82da-4367-862c-88540aaa3db1","class_id":"com-snaplogic-snaps-flow-router","class_build_tag":"snapsmrc330","class_fqid":"com-snaplogic-snaps-flow-router_2-snapsmrc330","instance_version":2,"property_map":{"info":{"notes":{"value":null},"label":{"value":"check result"}},"view_serial":100,"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}}},"settings":{"routes":{"value":[{"expression":{"expression":true,"value":"$entity.response_map.total>0"},"outputViewName":{"value":"output0"}},{"expression":{"expression":true,"value":"$entity.response_map.total<=0"},"outputViewName":{"value":"output1"}}]},"firstMatch":{"value":false}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"document"}},"output1":{"label":{"value":"output1"},"view_type":{"value":"document"}}}},"class_version":2,"instance_fqid":"4e3496c8-82da-4367-862c-88540aaa3db1_2"},"bc7ef095-1c01-462f-b3cf-b3e4833b755f":{"instance_version":10,"class_id":"com-snaplogic-snaps-rest-get","class_build_tag":"rest1205","class_fqid":"com-snaplogic-snaps-rest-get_2-rest1205","instance_id":"bc7ef095-1c01-462f-b3cf-b3e4833b755f","property_map":{"info":{"notes":{"value":null},"label":{"value":"Get failed pipelines"}},"view_serial":101,"account":{"account_ref":{"value":{"ref_id":{"value":"97bb9de9-a63d-471a-acb8-2dce2b843574"},"ref_class_id":{"value":"com-snaplogic-snaps-rest-restbasicauthaccount"},"label":{"value":"snaplogic rest"}}}},"settings":{"retryInterval":{"value":3},"trustAllCerts":{"value":true},"retry":{"value":5},"hasNext":{"expression":true,"value":null},"serviceUrl":{"expression":false,"value":"https://elastic.Snaplogic.com/api/1/rest/public/runtime/Enmax"},"processArray":{"value":false},"nextUrl":{"expression":true,"value":null},"header":{"value":[{"headerKey":{"expression":false,"value":"content-type"},"headerValue":{"expression":false,"value":"application/json"}}]},"rawData":{"value":false},"timeout":{"value":900},"queryParams":{"value":[{"queryParamValue":{"expression":true,"value":"_lasthours"},"queryParam":{"value":"last_hours"}},{"queryParamValue":{"expression":true,"value":"_statetocheck"},"queryParam":{"value":"state"}}]}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output101":{"view_type":{"value":"document"},"label":{"value":"output0"}}}},"class_version":2,"instance_fqid":"bc7ef095-1c01-462f-b3cf-b3e4833b755f_10"},"1040cb22-d1c2-4e92-bd52-1176f08ae98f":{"instance_version":2,"class_id":"com-snaplogic-snaps-email-emailsender","class_build_tag":"snapsmrc330","class_fqid":"com-snaplogic-snaps-email-emailsender_2-snapsmrc330","instance_id":"1040cb22-d1c2-4e92-bd52-1176f08ae98f","property_map":{"info":{"notes":{"value":null},"label":{"value":"Email Sender"}},"view_serial":101,"account":{"account_ref":{"value":{"label":{"value":"SMTP Server"},"ref_class_id":{"value":"com-snaplogic-snaps-email-smtpaccount"},"ref_id":{"value":"1893eba4-6a50-42c0-b33f-49b22d6bee3a"}}}},"settings":{"body":{"expression":false,"value":"Dear SnapLogic Admins:\n\nThere is no failed pipelines from the check.\n\nRegards,\nSnapLogic Team"},"from":{"expression":false,"value":"snaplogic_prdsvr@enmax.com"},"attachments":{"value":[]},"cc":{"expression":false,"value":null},"emailType":{"value":"Plain text"},"batchSize":{"value":100},"executable_during_suggest":{"value":false},"to":{"expression":false,"value":"erzhao@enmax.com"},"tableDataPath":{"value":"$"},"passThrough":{"value":false},"subject":{"expression":true,"value":"\"snaplogic production pipelines running report\"+\" \"+Date.now().toLocaleDateTimeString('{\\\"timeZone\\\":\\\"MST\\\", \"format\":\"yyyy-MM-dd HH:mm:ss\"}')"}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"input":{"input101":{"label":{"value":"input0"},"view_type":{"value":"document"}}}},"class_version":2,"instance_fqid":"1040cb22-d1c2-4e92-bd52-1176f08ae98f_2"},"2ddbe24f-d3fb-4c7d-91a6-2e5565552082":{"instance_id":"2ddbe24f-d3fb-4c7d-91a6-2e5565552082","class_id":"com-snaplogic-snaps-email-emailsender","class_build_tag":"snapsmrc330","class_fqid":"com-snaplogic-snaps-email-emailsender_2-snapsmrc330","instance_version":22,"property_map":{"info":{"notes":{"value":null},"label":{"value":"Email Sender"}},"view_serial":101,"account":{"account_ref":{"value":{"ref_id":{"value":"1893eba4-6a50-42c0-b33f-49b22d6bee3a"},"ref_class_id":{"value":"com-snaplogic-snaps-email-smtpaccount"},"label":{"value":"SMTP Server"}}}},"settings":{"body":{"expression":false,"value":"<!DOCTYPE html>\n<html>\n<head>\n    <title>Email Snap HTML Table</title>\n    <style type=\"text/css\">\n        table.Snap {background-color:transparent;border-collapse:collapse;width:100%;}\n        table.Snap th, table.Snap td {text-align:center;border:1px solid black;padding:5px;}\n        table.Snap th {background-color:AntiqueWhite;}\n   </style>\n</head>\n<body>\n    <p>Dear SnapLogic Admins:</p>\n    <p>Please check the list below for the failed pipelines:</p>\n    <table class=\"Snap\">\n    </table>\n    <p></p>\n    <p>Regards,</p>\n    <p>SnapLogic Team</p>\n</body>\n</html>"},"from":{"expression":false,"value":"snaplogic_prdsvr@enmax.com"},"attachments":{"value":[]},"cc":{"expression":false,"value":null},"emailType":{"value":"HTML table"},"batchSize":{"value":100},"executable_during_suggest":{"value":false},"to":{"expression":false,"value":"erzhao@enmax.com"},"tableDataPath":{"value":"$"},"passThrough":{"value":false},"subject":{"expression":true,"value":"\"snaplogic production pipelines running report\"+\" \"+Date.now().toLocaleDateTimeString('{\\\"timeZone\\\":\\\"MST\\\", \"format\":\"yyyy-MM-dd HH:mm:ss\"}')"}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"input":{"input101":{"view_type":{"value":"document"},"label":{"value":"input0"}}}},"class_version":2,"instance_fqid":"2ddbe24f-d3fb-4c7d-91a6-2e5565552082_22"}},"org_snode_id":"560530e34338e379f8fbff76","project_snode_id":"56fc07f7a415f54411a3ca8b","class_fqid":"com-snaplogic-pipeline_8","create_user_id":"erzhao@enmax.com","original":{"path":"/Enmax/projects/Eric Zhao/EZ Failed Pipeline checker"},"create_time":"2016-04-14T21:52:07.951000+00:00","link_map":{"link154":{"src_view_id":"output0","dst_view_id":"input0","src_id":"d30b2f48-7da4-4a04-9488-4ca765ecc176","dst_id":"6b4a0227-aa37-4950-9f45-b96bec2e835f"},"link131":{"src_view_id":"output0","dst_view_id":"input0","src_id":"4e3496c8-82da-4367-862c-88540aaa3db1","dst_id":"d30b2f48-7da4-4a04-9488-4ca765ecc176"},"link133":{"src_view_id":"output1","dst_view_id":"input101","src_id":"4e3496c8-82da-4367-862c-88540aaa3db1","dst_id":"1040cb22-d1c2-4e92-bd52-1176f08ae98f"},"link150":{"src_view_id":"output101","dst_view_id":"input0","src_id":"bc7ef095-1c01-462f-b3cf-b3e4833b755f","dst_id":"4e3496c8-82da-4367-862c-88540aaa3db1"},"link153":{"src_view_id":"output0","dst_view_id":"input101","src_id":"6b4a0227-aa37-4950-9f45-b96bec2e835f","dst_id":"2ddbe24f-d3fb-4c7d-91a6-2e5565552082"}},"scrub_version":"48f99abcdf450e7c49a04015355fb699f785e8cbf8288d894686a64c6caeddd1","path_id":"/Enmax/projects/Eric Zhao","migrate_version":"mrc244","instance_id":"0d1ce71c-0c9e-4b2f-b0f8-f49c3af3f45a","phase_snode_id":null,"instance_version":101,"org_id":"560530e34338e379f8fbff76"}